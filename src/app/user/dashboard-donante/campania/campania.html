<div
  class="bg-white dark:bg-base-200 rounded-2xl shadow-md hover:shadow-xl overflow-hidden 
         transition-all duration-300 border border-gray-200 dark:border-base-300 
         hover:border-primary/40 cursor-pointer group"
  (click)="goToProfile()"
>

  <div
    class="relative h-48 w-full flex items-center justify-center bg-gray-100 dark:bg-gray-800 overflow-hidden"
  >
<div
  class="absolute top-3 left-3 px-3 py-1 rounded-full text-xs font-semibold text-white shadow-md"
  [class.bg-green-500]="campania().status === statusCampania.EN_PROGRESO"
  [class.bg-yellow-500]="campania().status === statusCampania.PENDIENTE"
  [class.bg-blue-500]="campania().status === statusCampania.COMPLETADA"
  [class.bg-gray-800]="campania().status === statusCampania.PAUSADA"
  [class.bg-red-500]="campania().status === statusCampania.RECHAZADA"


>
  {{ campania().status }}
</div>

    
    <span
      class="absolute text-5xl font-bold text-gray-600 dark:text-gray-300 transition-opacity duration-300 select-none"
      [class.opacity-0]="imageLoaded && campania().imagenUrl"
    >
      {{ campania().titulo.charAt(0).toUpperCase() }}
    </span>

    <img
      [src]="campania().imagenUrl"
      alt="{{ campania().titulo }}"
      class="w-full h-full object-cover transition-opacity duration-500"
      [class.opacity-0]="!imageLoaded"
      (load)="imageLoaded = true"
      (error)="imageLoaded = false; campania().imagenUrl = ''"
    />
  </div>

  <div class="p-5 flex flex-col gap-3">
    <span
      class="uppercase text-xs font-semibold tracking-wider 
             text-gray-500 dark:text-gray-400"
    >
      Cooperaci√≥n
    </span>

    <h2
      class="text-xl font-semibold text-gray-800 dark:text-gray-100 
             group-hover:text-primary transition-colors leading-snug"
    >
      {{ campania().titulo }}
    </h2>

    <div class="mt-2">
      <div class="flex items-center justify-between mb-1">
        <span
          class="text-xs font-semibold text-gray-600 dark:text-gray-300"
        >
          {{
            ((campania().montoRecaudado / campania().montoObjetivo) * 100)
              | number: '1.0-0'
          }}%
        </span>
      </div>

      <div
        class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"
      >
        <div
          class="h-2 bg-lime-500 transition-all duration-500"
          [style.width.%]="
            (campania().montoRecaudado / campania().montoObjetivo) * 100
          "
        ></div>
      </div>
    </div>

    <div class="flex justify-between text-sm font-semibold mt-3">
      <div class="text-gray-800 dark:text-gray-100 text-center flex-1">
        {{ 'COP ' + (campania().montoRecaudado | number: '1.0-0') }}
        <div
          class="text-xs text-gray-500 dark:text-gray-400 font-medium mt-0.5"
        >
          {{GlobalService.WORDS.LABEL.RAISED}}
        </div>
      </div>

      <div class="border-l border-gray-300 dark:border-gray-600 mx-2"></div>

      <div class="text-gray-800 dark:text-gray-100 text-center flex-1">
        {{ 'COP ' + (campania().montoObjetivo | number: '1.0-0') }}
        <div
          class="text-xs text-gray-500 dark:text-gray-400 font-medium mt-0.5"
        >
          {{GlobalService.WORDS.LABEL.GOAL}}
        </div>
      </div>

    </div>

    <div class="mt-5 text-center">
      @if (authService.hasAdminPermission()) {
        <button (click)="$event.stopPropagation(); goToDonation()"
        class="px-5 py-2 rounded-full bg-primary text-white dark:text-white 
               font-medium hover:bg-primary/90 transition-all duration-300 shadow-sm 
               hover:shadow-md"
        
      >
        {{GlobalService.WORDS.LABEL.APPROVE}}
      </button>
      }@else {
          <button (click)="$event.stopPropagation(); goToDonation()"
        class="px-5 py-2 rounded-full bg-primary text-white dark:text-white 
               font-medium hover:bg-primary/90 transition-all duration-300 shadow-sm 
               hover:shadow-md"
        
      >
        {{GlobalService.WORDS.LABEL.DONATE}}
      </button>
      }

      
    </div>
  </div>
</div>
