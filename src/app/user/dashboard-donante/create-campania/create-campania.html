<section class="relative py-20 min-h-screen flex flex-col items-center justify-start">

  <div class="absolute inset-0 overflow-hidden z-0">

    <div class="absolute inset-0 bg-gradient-to-br from-primary to-primary/80"></div>

    <svg class="absolute top-0 left-0 w-full h-51 text-white/20" viewBox="0 0 1440 320" preserveAspectRatio="none">
      <path fill="currentColor"
        d="M0,96L80,112C160,128,320,160,480,160C640,160,800,128,960,112C1120,96,1280,96,1360,96L1440,96L1440,0L0,0Z" />
    </svg>

    <svg class="absolute bottom-0 right-0 w-full h-51 text-white/20 rotate-180" viewBox="0 0 1440 320"
      preserveAspectRatio="none">
      <path fill="currentColor"
        d="M0,96L80,112C160,128,320,160,480,160C640,160,800,128,960,112C1120,96,1280,96,1360,96L1440,96L1440,0L0,0Z" />
    </svg>

    <svg class="absolute top-20 left-10 opacity-20 w-16 h-16 text-white" fill="currentColor" viewBox="0 0 24 24">
      <path d="M12 21s-6-4.35-9-8.5S2.75 3 6 3c2.5 0 4 2 4 2s1.5-2 4-2c3.25 0 6 3.5 3 9.5S12 21 12 21z" />
    </svg>

    <svg class="absolute bottom-24 right-12 opacity-20 w-20 h-20 text-white" fill="currentColor" viewBox="0 0 24 24">
      <path d="M12 21s-6-4.35-9-8.5S2.75 3 6 3c2.5 0 4 2 4 2s1.5-2 4-2c3.25 0 6 3.5 3 9.5S12 21 12 21z" />
    </svg>

  </div>

  <div class="relative z-10 w-full px-6 max-w-3xl space-y-8">

    @if (beneficiarioResource.isLoading()) {
    <div class="flex flex-col items-center justify-center py-16">
      <span class="loading loading-spinner loading-lg text-primary mb-4"></span>
      <p class="text-white/80 text-lg tracking-wide">
        {{ globalService.WORDS.LABEL.LOADING_INFORMATION }}
      </p>
    </div>
    } @else {

    @let data = beneficiarioResource.value();

    @if (!data) {
    <div class="alert alert-neutral shadow-xl rounded-2xl">
      <span class="text-base">{{ globalService.WORDS.LABEL.BENEFICIARY_NO_INFORMATION }}</span>
    </div>
    } @else {

    @if (data.status === 'PENDIENTE') {
    <div class="alert alert-info shadow-xl rounded-2xl">
      <i class="bi bi-hourglass-split text-2xl"></i>
      <div>
        <h3 class="font-bold text-lg">{{ globalService.WORDS.LABEL.PDF_IN_REVIEW }}</h3>
        <p class="opacity-80">{{ globalService.WORDS.LABEL.WAIT_DOCUMENT }}.</p>
      </div>
    </div>
    }

    @if (data.status === 'RECHAZADA') {

    <div class="alert alert-error shadow-xl rounded-2xl">
      <i class="bi bi-x-circle-fill text-2xl"></i>
      <div>
        <h3 class="font-bold text-lg">{{ globalService.WORDS.LABEL.PDF_REJECTED }}</h3>
        <p class="opacity-80">{{ globalService.WORDS.LABEL.YOU_MUST_UPLOAD_DOCUMENT }}.</p>
      </div>
    </div>

    <div class="card bg-base-100 dark:bg-base-200 shadow-xl rounded-3xl border border-base-300">
      <div class="card-body space-y-4">
        <h2 class="card-title text-error text-xl">
          {{ globalService.WORDS.LABEL.NEW_PDF }}
        </h2>

        <input type="file" id="pdfFile" accept=".pdf" class="file-input file-input-bordered w-full rounded-xl"
          (change)="onFileSelected($event)" />

        <button type="button" class="btn btn-error w-full rounded-xl" (click)="handleUpload()"
          [disabled]="!selectedFile">
          <i class="bi bi-upload"></i> {{ globalService.WORDS.LABEL.UPLOAD_PDF }}
        </button>
      </div>
    </div>
    }

    @if (data.status === 'NOPDF') {

    <div class="alert alert-warning shadow-xl rounded-2xl">
      <i class="bi bi-exclamation-triangle-fill text-2xl"></i>
      <div>
        <h3 class="font-bold text-lg">{{ globalService.WORDS.LABEL.NO_UPLOAD_PDF }}</h3>
        <p class="opacity-80">{{ globalService.WORDS.LABEL.UPLOAD_CV }}</p>
      </div>
    </div>

    <div class="card bg-base-100 dark:bg-base-200 shadow-xl rounded-3xl border border-base-300">
      <div class="card-body space-y-4">
        <h2 class="card-title text-warning text-xl">{{ globalService.WORDS.LABEL.UPLOAD_YOUR_PDF }}</h2>

        <input type="file" accept=".pdf" class="file-input file-input-bordered w-full rounded-xl"
          (change)="onFileSelected($event)" />

        <button type="button" class="btn btn-warning w-full text-white rounded-xl" (click)="handleUpload()"
          [disabled]="!selectedFile">
          <i class="bi bi-cloud-arrow-up"></i> {{ globalService.WORDS.LABEL.UPLOAD_PDF }}
        </button>
      </div>
    </div>
    }
    @if (data.status === 'APROBADA') {

    <div class="alert  alert-success shadow-xl rounded-2xl">
      <i class="bi bi-check-circle-fill text-2xl"></i>
      <div>
        <h3 class="font-bold text-lg">{{ globalService.WORDS.LABEL.PDF_APPROVE }}</h3>
        <p class="opacity-80">{{ globalService.WORDS.LABEL.YOU_CAN_NOW_CREATED_CAMPAING }}</p>
      </div>
    </div>

    <app-form-campania/>
    

    }

    }}

  </div>

</section>